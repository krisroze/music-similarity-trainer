<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Similarity Trainer</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:,">
</head>
<body>
    <div class="container">
        <h1>üéµ Music Similarity Trainer</h1>
        <p class="subtitle">Train AI to understand music similarity using top Spotify songs</p>
        
        <div class="catalog-info">
            <div class="catalog-stats">
                <div class="stat-item">
                    <span class="stat-number" id="songsLoaded">0</span>
                    <span class="stat-label">Songs in Catalog</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="completedCount">0</span>
                    <span class="stat-label">Comparisons Made</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="accuracyRate">--</span>
                    <span class="stat-label">Algorithm Learning</span>
                </div>
            </div>
            
            <div class="catalog-controls">
                <button onclick="buildCatalog()" class="build-btn">
                    üèóÔ∏è Build Catalog (Top 250 Songs)
                </button>
                <button onclick="resetComparisons()" class="reset-comparisons-btn">
                    üîÑ Reset Comparisons Only
                </button>
                <button onclick="resetCatalog()" class="reset-catalog-btn">
                    üóëÔ∏è Reset Everything
                </button>
            </div>
        </div>
        
        <div id="comparison-section" class="comparison-section" style="display: none;">
            <div class="reference-song">
                <h3>üéØ Reference Song</h3>
                <div class="player-container">
                    <iframe id="reference-embed" 
                            src="" 
                            width="100%" 
                            height="152" 
                            frameborder="0" 
                            allowtransparency="true" 
                            allow="encrypted-media">
                    </iframe>
                </div>
                <p id="reference-title" class="song-title">Loading song...</p>
                <p id="reference-details" class="song-details">Artist ‚Ä¢ Genre ‚Ä¢ Year</p>
            </div>
            
            <div class="vs-divider">
                <span>Which option is MORE similar to the reference?</span>
            </div>
            
            <div class="options">
                <div class="option option-a">
                    <h3>üÖ∞Ô∏è Option A</h3>
                    <div class="player-container">
                        <iframe id="optionA-embed" 
                                src="" 
                                width="100%" 
                                height="152" 
                                frameborder="0" 
                                allowtransparency="true" 
                                allow="encrypted-media">
                        </iframe>
                    </div>
                    <p id="optionA-title" class="song-title">Loading...</p>
                    <p id="optionA-details" class="song-details">Artist ‚Ä¢ Genre ‚Ä¢ Year</p>
                    <button onclick="selectOption('A')" class="select-btn btn-a">
                        <span>A is More Similar</span>
                        <small>Press 'A' key</small>
                    </button>
                </div>
                
                <div class="option option-b">
                    <h3>üÖ±Ô∏è Option B</h3>
                    <div class="player-container">
                        <iframe id="optionB-embed" 
                                src="" 
                                width="100%" 
                                height="152" 
                                frameborder="0" 
                                allowtransparency="true" 
                                allow="encrypted-media">
                        </iframe>
                    </div>
                    <p id="optionB-title" class="song-title">Loading...</p>
                    <p id="optionB-details" class="song-details">Artist ‚Ä¢ Genre ‚Ä¢ Year</p>
                    <button onclick="selectOption('B')" class="select-btn btn-b">
                        <span>B is More Similar</span>
                        <small>Press 'B' key</small>
                    </button>
                </div>
            </div>
        </div>
        
        <div id="controls" class="controls" style="display: none;">
            <button onclick="skipComparison()" class="skip-btn">
                ‚è≠Ô∏è Skip This Comparison
                <small>Press 'S' key</small>
            </button>
            <button onclick="loadNewComparison()" class="next-btn">
                üîÑ Load New Comparison
                <small>Press 'N' key</small>
            </button>
            <button onclick="viewSimilarSongs()" class="similar-btn">
                üîç View Similar Songs
            </button>
        </div>
        
        <div class="keyboard-shortcuts">
            <h4>‚å®Ô∏è Keyboard Shortcuts</h4>
            <div class="shortcuts-grid">
                <div class="shortcut">
                    <kbd>A</kbd> Select Option A
                </div>
                <div class="shortcut">
                    <kbd>B</kbd> Select Option B
                </div>
                <div class="shortcut">
                    <kbd>S</kbd> Skip Comparison
                </div>
                <div class="shortcut">
                    <kbd>N</kbd> Next Comparison
                </div>
            </div>
        </div>
    </div>
    
    <!-- Loading overlay -->
    <div id="loading-overlay" class="loading-overlay">
        <div class="loading-content">
            <div class="spinner"></div>
            <p id="loading-text">Loading...</p>
            <div class="progress-bar">
                <div id="progress-fill" class="progress-fill"></div>
            </div>
        </div>
    </div>
    
    <!-- Feedback notification -->
    <div id="feedback-notification" class="feedback-notification"></div>
    
    <!-- Similar songs modal -->
    <div id="similar-songs-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeSimilarSongs()">&times;</span>
            <h2>Most Similar Songs</h2>
            <div id="similar-songs-list"></div>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>
